(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();function m(){const e=window.matchMedia("(prefers-color-scheme: dark)").matches,r=localStorage.getItem("theme-mode")||(e?"dark":"light");l(r)}function l(e){const t=document.documentElement;e==="dark"?(t.setAttribute("data-theme","dark"),localStorage.setItem("theme-mode","dark")):(t.removeAttribute("data-theme"),localStorage.setItem("theme-mode","light"))}window.addEventListener("load",m);window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem("theme-mode")||l(e.matches?"dark":"light")});let i;window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),i=e,f()});window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),i=null,s()});function f(){const e=document.getElementById("install-banner");e&&(e.style.display="flex")}function s(){const e=document.getElementById("install-banner");e&&(e.style.display="none")}async function u(){if(i){i.prompt();const{outcome:e}=await i.userChoice;console.log(`User response to the install prompt: ${e}`),i=null,s()}}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("install-btn");e&&e.addEventListener("click",u);const t=document.getElementById("dismiss-banner-btn");t&&t.addEventListener("click",s)});function p(){const e=document.getElementById("update-notification");e&&(e.style.display="flex")}function c(){const e=document.getElementById("update-notification");e&&(e.style.display="none")}function g(){window.location.reload()}"serviceWorker"in navigator&&(navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("Service Worker controller changed - new version ready"),c()}),navigator.serviceWorker.ready.then(e=>{e.addEventListener("updatefound",()=>{const t=e.installing;t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&p()})}),setInterval(()=>{e.update()},6e4)}));document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("update-btn");e&&e.addEventListener("click",g);const t=document.getElementById("dismiss-update-btn");t&&t.addEventListener("click",c)});
